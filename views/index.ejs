<!DOCTYPE html>id
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chuck Norris Jokes</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- Header -->
    <div
      class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-center"
    >
      <!-- Dropdown menu -->
      <div class="dropdown me-3">
        <button
          class="btn btn-secondary dropdown-toggle"
          type="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          Select Joke Category
        </button>
        <ul class="dropdown-menu">
          <% categories.forEach(category => { %>
          <li>
            <a class="dropdown-item" href="/category?selected=<%= category %>">
              <%= category %>
            </a>
          </li>
          <% }) %>
        </ul>
      </div>

      <div class="col-12 col-lg-auto mb-3 mt-3">
        <h2 class="text-center">OR</h2>
      </div>
      <!-- Search Box -->
      <form
        class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3 ms-lg-3"
        role="search"
        id="searchForm"
        action="/text-search"
        method="GET"
      >
        <input
          id="searchText"
          type="text"
          name="query"
          class="form-control form-control-dark text-bg-dark"
          placeholder="Search for text in Jokes..."
          aria-label="Search"
        />
      </form>
      <!-- Submit button -->
      <div class="text-end">
        <button
          id="submitButton"
          form="searchForm"
          type="submit"
          class="btn btn-outline-light me-2"
        >
          Submit
        </button>
      </div>
    </div>
    <!-- Main page data -->
    <div class="container col-xxl-8 px-4 py-5">
      <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
        <div class="col-10 col-sm-8 col-lg-6">
          <img
            src="/images/ChuckNorrisKicking.webp"
            class="d-block mx-lg-auto img-fluid"
            alt="Bootstrap Themes"
            width="700"
            height="500"
            loading="lazy"
          />
        </div>
        <div class="col-lg-6">
          <h1 class="display-5 fw-bold text-body-emphasis lh-1 mb-3">
            The Joke:
          </h1>
          <p class="lead"><%= joke %></p>
          <div class="d-grid gap-2 d-md-flex justify-content-md-start">
            <button
              id="newJokeButton"
              type="button"
              class="btn btn-primary btn-lg px-4 me-md-2"
              action="/"
              method="post"
            >
              New Random Joke
            </button>
            <script>
              document
                .getElementById("newJokeButton")
                .addEventListener("click", function () {
                  window.location.href = "/";
                });
            </script>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
